@{
    ViewBag.Title = "Index";
}

<script type="text/javascript">
    var store = new Ext.data.Store({
        autoLoad: true,
        proxy: new Ext.data.HttpProxy({
            url: "@Url.Content("/Api/User/GetGridPager")",
            method:"Get"
        }),
        reader: new Ext.data.JsonReader({
            root: "data",
            totalProperty: "count"
        }, [
             { name: 'ID' },
             { name: 'RealName' },
             { name: 'UserName' },
             { name: 'PassWord' },
             { name: 'OfferTime' },
             { name: "Education" },
             { name: 'Professional' },
             { name: 'IsMarry' },
             { name: 'BirthDay' },
             { name: 'InUse' },
             { name: 'Remark' },
             { name: 'OrganizationID' }
        ])
    });
    Ext.onReady(function () {
        Ext.QuickTips.init();
        new Ext.Viewport({
            title: "Viewport",
            layout: "fit",
            defaults: {
                bodyStyle: "background-color: #FFFFFF;",
            },
            items: [{
               xtype: "grid",
              layout:"fit",
               title: '用户列表',
               store: store,
               columnLines: true,
               trackMouseOver: false,
               disableSelection: true,
               loadMask: true,
               columns: [
               { id: 'ID', header: "ID", dataIndex: 'ID', width: 10, sortable: true },
               { header: "姓名", dataIndex: 'RealName', width: 20, hidden: false, sortable: true },
               { header: "用户名", dataIndex: 'UserName', width: 20, hidden: false, sortable: true },
               //{ header: "密码", dataIndex: 'PassWord', width: 20, align: 'right', sortable: true },
               { header: "入职时间", dataIndex: 'OfferTime', width: 10, sortable: true },
                { header: "学历", dataIndex: 'Education', width: 10, sortable: true },
               { header: "专业", dataIndex: 'Professional', width: 10, sortable: true },
                { header: "婚否", dataIndex: 'IsMarry', width: 10, sortable: true },
                { header: "生日", dataIndex: 'BirthDay', width: 10, sortable: true },
                { header: "备注", dataIndex: 'Remark', width: 10, sortable: true }
               ],
               viewConfig: {
                   loadMask: true,
                   forceFit: true
               },
               bbar: new Ext.PagingToolbar({
                   pageSize: 10,
                   store:store,
                   displayInfo: true,
                   displayMsg: '当前{0}到{1}条,共{2}条',
                   emptyMsg: '没有符合条件的数据'
               })
           }
            ]
        });
    });
</script>
